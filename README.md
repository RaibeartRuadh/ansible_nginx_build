# Для проверки работы вам потребуется установить:
- Ansible 2.9.6
- Oracle VirtualBox 6.0
- Vagrant Vagrant 2.2.19

Если по команде vagrant up из основной директории проекта выдает ошибку образа, требуется скачать и установить образ, аналогичный Centos 7 -  https://app.vagrantup.com/centos/boxes/7
Также трубется заменить название образа, которое вы указали при загрузке (команда vagrant box add --name ИМЯ_ОБРАЗА URL or Address to Image) в файле Vagrantfile проекта.

      Vagrant.configure("2") do |config|
         config.vm.box = "ИМЯ_ОБРАЗА"

------------------------------------------------------------

# Установка nginx через сборку из исходников и нестандартным портом

Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:
- необходимо собрать nginx из исходных модулей кода
- конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными
- после установки nginx должен быть в режиме enabled в systemd
- должен быть использован notify для старта nginx после установки
- сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible

Домашнее задание считается принятым, если:
- предоставлен Vagrantfile и готовый playbook/роль ( инструкция по запуску стенда, если посчитаете необходимым )
- после запуска стенда nginx доступен на порту 8080
- при написании playbook/роли соблюдены перечисленные в задании условия

-------------------------------------------------------
# Релизация

Запуск стенда:

		$ bash
		$ vagrant up

Общая концепция плейбука:
- Исходный код выгружаем из удаленного репозитория "http://nginx.org/download/{{ version }}.tar.gz
- При запуске мы задаем ряд параметров для будущего nginx
- Устанавливаем вспомогательные пакеты
- Создаем директорию для страниц сайта
- Устанавливаем репозиторий epel 
- Используя jinja2 шаблон подставляем нашу конфигурацию nginx
- Отдельно заливаем файл index.html
- Notity есть на ситации restart и reload. Прописаны Handlers
- директория под сайт /opt/www

чтобы увидеть страничку выполнить переход по ссылке:

		http://192.168.10.10:8080

---

